_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{PzL0:function(e,t,n){"use strict";n.r(t);var o=n("NthX"),r=n.n(o),a=n("eijD"),i=n("oYCi"),c=n("mXGw");t.default=function(){var e=Object(c.useState)(),t=e[0],n=e[1],o=Object(c.useState)(),u=o[0],s=o[1],d=function(){var e=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(void 0),e.next=3,new Promise((function(e){return setTimeout(e,2e3)}));case 3:u&&u.play().catch((function(e){n(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"flex flex-col space-y-4",children:[Object(i.jsx)("p",{className:"mb-4",children:"The work around is to load the audio after a user interaction. Now you can play audio after async operations on iOS."}),Object(i.jsx)("button",{className:"border-2 border-blue-700 bg-blue-500 text-white rounded-md px-4 py-2 text-center",onClick:function(){var e=new Audio("https://www.videomaker.com/sites/videomaker.com/files/downloads/free-sound-effects/Free_ExplosionSharp_6048_97_1.wav");e.load(),e.addEventListener("canplaythrough",(function(){console.log("Preloaded audio"),s(e)}))},disabled:void 0!==u,children:u?"\u25bc Click the button below to play the audio":"Load Audio!"}),Object(i.jsx)("button",{className:"border-2 border-green-700 bg-green-500 ".concat(u?"":"cursor-not-allowed"," text-white rounded-md px-4 py-2 mt-4 text-center"),onClick:d,disabled:void 0===u,children:u?"Play after resolving a promise \u25b6":"\u25b2 Click the button above to load audio"}),t&&Object(i.jsxs)("div",{className:"mt-4 text-red-600",children:["AUDIO ERROR: ",t.message]})]})}},eijD:function(e,t,n){"use strict";function o(e,t,n,o,r,a,i){try{var c=e[a](i),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(o,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,u,"next",e)}function u(e){o(i,r,a,c,u,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return r}))},kLup:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play-audio-after-promise-workaround",function(){return n("PzL0")}])}},[["kLup",0,1,2]]]);